[gd_scene load_steps=38 format=4 uid="uid://5elbiihgljqp"]

[ext_resource type="PackedScene" uid="uid://c6q8l2p63we84" path="res://objects/system/turn_manager/turn_manager.tscn" id="1_b6bp6"]
[ext_resource type="PackedScene" uid="uid://xjvdjvcg5sjk" path="res://objects/characters/player/player.tscn" id="1_lxegh"]
[ext_resource type="PackedScene" uid="uid://jgwb14jy1uxn" path="res://objects/world/floor_stairs.tscn" id="1_v30wm"]
[ext_resource type="PackedScene" uid="uid://bmn56oiwtxfrs" path="res://objects/world/floor_tile.tscn" id="2_6a8my"]
[ext_resource type="PackedScene" uid="uid://d3xx7e8wwir1k" path="res://objects/world/wall_labyrinth_down.tscn" id="2_p4wh4"]
[ext_resource type="PackedScene" uid="uid://da2ibc13e45n3" path="res://objects/world/wall_labyrinth_left.tscn" id="3_7ittx"]
[ext_resource type="PackedScene" uid="uid://d35p0t2hanj4l" path="res://objects/world/void.tscn" id="3_xe18g"]
[ext_resource type="PackedScene" uid="uid://b0okyyptsyxw4" path="res://objects/world/floor_tile_edge.tscn" id="4_6a8my"]
[ext_resource type="PackedScene" uid="uid://coku8yjncbhfy" path="res://objects/world/wall_labyrinth_right.tscn" id="4_b6bp6"]
[ext_resource type="PackedScene" uid="uid://c1ggtgulo83ch" path="res://objects/world/wall_labyrinth_up.tscn" id="5_iefdx"]
[ext_resource type="PackedScene" uid="uid://drf8kgobmnw62" path="res://objects/world/wall_labyrinth_corner_bl.tscn" id="9_xdkey"]
[ext_resource type="PackedScene" uid="uid://5munun7kx34b" path="res://objects/world/wall_labyrinth_corner_br.tscn" id="10_7ip5i"]
[ext_resource type="PackedScene" uid="uid://cj3wuhb4d13m3" path="res://objects/world/wall_labyrinth_corner_tl.tscn" id="11_0fxje"]
[ext_resource type="PackedScene" uid="uid://b4b7wf713qkek" path="res://objects/world/wall_labyrinth_corner_tr.tscn" id="12_m2e2k"]
[ext_resource type="Script" uid="uid://ckx4y5pqfqg6k" path="res://objects/system/command_menu/command_menu.gd" id="14_7ip5i"]
[ext_resource type="Script" uid="uid://bgl6q243ogu5r" path="res://objects/system/camera2d/camera_2d.gd" id="14_xdkey"]
[ext_resource type="PackedScene" uid="uid://hd6tv01qq0ed" path="res://objects/enemies/mouth/enemy_mouth.tscn" id="15_b6bp6"]
[ext_resource type="Texture2D" uid="uid://bfa5twja8kg5b" path="res://textures/system/command-menu.png" id="16_0fxje"]
[ext_resource type="PackedScene" uid="uid://dqm128gxj3t0x" path="res://objects/interactives/chest/chest.tscn" id="16_iefdx"]
[ext_resource type="Texture2D" uid="uid://bogdmfl1vf1uv" path="res://textures/system/icon-skill.png" id="17_wes0v"]
[ext_resource type="Texture2D" uid="uid://ctu86c82jsblf" path="res://textures/system/icon-magic.png" id="18_1t0dy"]
[ext_resource type="Texture2D" uid="uid://c8hl7pwsr04fi" path="res://textures/system/icon-items.png" id="19_6w5x8"]
[ext_resource type="Script" uid="uid://372k1qqga746" path="res://objects/system/command_menu/item_list.gd" id="24_6w5x8"]
[ext_resource type="Texture2D" uid="uid://dkubi1rt8v81h" path="res://textures/system/icon-fire.png" id="24_k7uxw"]
[ext_resource type="Texture2D" uid="uid://cro06oopey0eh" path="res://textures/system/icon-pointer.png" id="25_jiwvv"]
[ext_resource type="Texture2D" uid="uid://b1vo5c1c0vbw8" path="res://textures/system/icon-thunder.png" id="25_u2uj7"]
[ext_resource type="Texture2D" uid="uid://b8rrweskhi56k" path="res://textures/system/icon-plant.png" id="26_tq2tj"]
[ext_resource type="Texture2D" uid="uid://dkhd2f7ywih0j" path="res://textures/system/icon-orb.png" id="27_l2lt0"]

[sub_resource type="TileSetScenesCollectionSource" id="TileSetScenesCollectionSource_1aara"]
resource_name = "VoidStranger"
scenes/1/scene = ExtResource("1_v30wm")
scenes/2/scene = ExtResource("2_6a8my")
scenes/3/scene = ExtResource("3_xe18g")
scenes/4/scene = ExtResource("4_6a8my")
scenes/6/scene = ExtResource("9_xdkey")
scenes/7/scene = ExtResource("10_7ip5i")
scenes/8/scene = ExtResource("11_0fxje")
scenes/9/scene = ExtResource("12_m2e2k")
scenes/10/scene = ExtResource("2_p4wh4")
scenes/11/scene = ExtResource("3_7ittx")
scenes/12/scene = ExtResource("4_b6bp6")
scenes/13/scene = ExtResource("5_iefdx")

[sub_resource type="TileSet" id="TileSet_jjdoh"]
terrain_set_0/mode = 0
sources/0 = SubResource("TileSetScenesCollectionSource_1aara")

[sub_resource type="StyleBoxEmpty" id="StyleBoxEmpty_k7uxw"]

[sub_resource type="StyleBoxEmpty" id="StyleBoxEmpty_u2uj7"]
content_margin_left = 5.0
content_margin_top = 8.0
content_margin_right = 8.0
content_margin_bottom = 4.0

[sub_resource type="SystemFont" id="SystemFont_iefdx"]
font_names = PackedStringArray("Monospace")
font_weight = 700
hinting = 2

[sub_resource type="Theme" id="Theme_xdkey"]
default_font = SubResource("SystemFont_iefdx")
default_font_size = 8
ItemList/colors/font_color = Color(0, 0, 0, 1)
ItemList/colors/font_hovered_color = Color(0, 0, 0, 1)
ItemList/colors/font_hovered_selected_color = Color(0, 0, 0, 1)
ItemList/colors/font_selected_color = Color(0, 0, 0, 1)
ItemList/colors/guide_color = Color(0, 0, 0, 0)
ItemList/constants/icon_margin = 2
ItemList/constants/line_separation = 0
ItemList/constants/v_separation = 0
ItemList/styles/focus = SubResource("StyleBoxEmpty_k7uxw")
ItemList/styles/panel = SubResource("StyleBoxEmpty_u2uj7")

[sub_resource type="Animation" id="Animation_k7uxw"]
length = 0.001
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("MenuCursor/Sprite2D:position")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Vector2(0, 0)]
}

[sub_resource type="Animation" id="Animation_u44ev"]
resource_name = "wiggle"
loop_mode = 1
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("MenuCursor/Sprite2D:position")
tracks/0/interp = 0
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.5),
"transitions": PackedFloat32Array(1, 1),
"update": 1,
"values": [Vector2(0, 0), Vector2(1, 0)]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_u2uj7"]
_data = {
&"RESET": SubResource("Animation_k7uxw"),
&"wiggle": SubResource("Animation_u44ev")
}

[node name="Game" type="Node2D"]

[node name="TileMapLayer" type="TileMapLayer" parent="."]
position = Vector2(-8, -8)
tile_map_data = PackedByteArray("AAAAAP//AAAAAAAAAwD//wEAAAAAAAAADQABAAIAAAAAAAAABAABAAEAAAAAAAAADQABAAAAAAAAAAAACgABAP//AAAAAAAAAwACAP//AAAAAAAAAwACAAAAAAAAAAAACgACAAEAAAAAAAAADQACAAIAAAAAAAAABAD//wMAAAAAAAAAAwABAAMAAAAAAAAAAwACAAMAAAAAAAAAAwADAAMAAAAAAAAAAwAEAAMAAAAAAAAAAwAFAAMAAAAAAAAAAwAGAAMAAAAAAAAAAwAHAAMAAAAAAAAAAgAIAAMAAAAAAAAAAgAIAAQAAAAAAAAAAgAIAAUAAAAAAAAAAgAHAAUAAAAAAAAAAgAGAAUAAAAAAAAAAwAFAAUAAAAAAAAAAwAEAAUAAAAAAAAAAwADAAUAAAAAAAAABAACAAQAAAAAAAAAAwABAAQAAAAAAAAAAwD//wQAAAAAAAAAAwD//wUAAAAAAAAAAwABAAUAAAAAAAAAAwAAAAUAAAAAAAAAAwACAAUAAAAAAAAAAwADAAQAAAAAAAAAAgAEAAQAAAAAAAAAAwAFAAQAAAAAAAAAAwAGAAQAAAAAAAAAAwAHAAQAAAAAAAAAAgAIAAIAAAAAAAAABAAIAAEAAAAAAAAADQAIAAAAAAAAAAAACgAIAP//AAAAAAAAAwD//wIAAAAAAAAABAD/////AAAAAAAAAwD//wAAAAAAAAAACgADAP//AAAAAAAAAwADAAAAAAAAAAAACgADAAEAAAAAAAAADQADAAIAAAAAAAAABAAEAAIAAAAAAAAABAAEAAEAAAAAAAAADQAEAAAAAAAAAAAACgAEAP//AAAAAAAAAwAFAP//AAAAAAAAAwAFAAAAAAAAAAAACgAFAAEAAAAAAAAADQAFAAIAAAAAAAAABAAGAAIAAAAAAAAABAAGAAEAAAAAAAAADQAGAAAAAAAAAAAACgAGAP//AAAAAAAAAwAHAP//AAAAAAAAAwAHAAAAAAAAAAAACgAHAAEAAAAAAAAADQAHAAIAAAAAAAAABAD//wYAAAAAAAAAAwD//wcAAAAAAAAAAwD//wgAAAAAAAAAAwD//wkAAAAAAAAAAwD//woAAAAAAAAAAwD//wsAAAAAAAAAAwAAAAYAAAAAAAAAAwAAAAcAAAAAAAAAAwAAAAgAAAAAAAAAAwAAAAkAAAAAAAAAAwAAAAoAAAAAAAAAAwAAAAsAAAAAAAAAAwABAAYAAAAAAAAAAwABAAcAAAAAAAAAAwABAAgAAAAAAAAAAwABAAkAAAAAAAAAAwABAAoAAAAAAAAAAwABAAsAAAAAAAAAAwACAAYAAAAAAAAAAgACAAcAAAAAAAAAAgACAAgAAAAAAAAAAgACAAkAAAAAAAAABAACAAoAAAAAAAAAAwACAAsAAAAAAAAAAwADAAYAAAAAAAAAAgADAAcAAAAAAAAAAQADAAgAAAAAAAAAAgADAAkAAAAAAAAABAADAAoAAAAAAAAAAwADAAsAAAAAAAAAAwAEAAYAAAAAAAAAAgAEAAcAAAAAAAAAAgAEAAgAAAAAAAAAAgAEAAkAAAAAAAAABAAEAAoAAAAAAAAAAwAEAAsAAAAAAAAAAwAFAAYAAAAAAAAAAwAFAAcAAAAAAAAAAgAFAAgAAAAAAAAABAAFAAkAAAAAAAAAAwAFAAoAAAAAAAAAAwAFAAsAAAAAAAAAAwAGAAYAAAAAAAAAAwAGAAcAAAAAAAAAAgAGAAgAAAAAAAAABAAGAAkAAAAAAAAAAwAGAAoAAAAAAAAAAwAGAAsAAAAAAAAAAwAHAAYAAAAAAAAAAgAHAAcAAAAAAAAAAgAHAAgAAAAAAAAAAgAHAAkAAAAAAAAABAAHAAoAAAAAAAAAAwAHAAsAAAAAAAAAAwAIAAYAAAAAAAAAAgAIAAcAAAAAAAAAAgAIAAgAAAAAAAAAAgAIAAkAAAAAAAAABAAIAAoAAAAAAAAAAwAIAAsAAAAAAAAAAwAJAP//AAAAAAAAAwAJAAAAAAAAAAAACgAJAAEAAAAAAAAADQAJAAIAAAAAAAAABAAJAAMAAAAAAAAAAgAJAAQAAAAAAAAAAgAJAAUAAAAAAAAAAgAJAAYAAAAAAAAAAgAJAAcAAAAAAAAAAgAJAAgAAAAAAAAAAgAJAAkAAAAAAAAABAAJAAoAAAAAAAAAAwAJAAsAAAAAAAAAAwAKAP//AAAAAAAAAwAKAAAAAAAAAAAACgAKAAEAAAAAAAAADQAKAAIAAAAAAAAABAAKAAMAAAAAAAAAAwAKAAQAAAAAAAAAAwAKAAUAAAAAAAAAAwAKAAYAAAAAAAAAAwAKAAcAAAAAAAAAAwAKAAgAAAAAAAAAAwAKAAkAAAAAAAAAAwAKAAoAAAAAAAAAAwAKAAsAAAAAAAAAAwALAP//AAAAAAAAAwALAAAAAAAAAAAACgALAAIAAAAAAAAABAALAAMAAAAAAAAAAwALAAQAAAAAAAAAAwALAAUAAAAAAAAAAwALAAYAAAAAAAAAAwALAAcAAAAAAAAAAwALAAgAAAAAAAAAAwALAAkAAAAAAAAAAwALAAoAAAAAAAAAAwALAAsAAAAAAAAAAwAMAP//AAAAAAAAAwAMAAAAAAAAAAAACgAMAAEAAAAAAAAACQAMAAIAAAAAAAAADAAMAAMAAAAAAAAADAAMAAQAAAAAAAAADAAMAAUAAAAAAAAADAAMAAYAAAAAAAAADAAMAAcAAAAAAAAADAAMAAgAAAAAAAAADAAMAAkAAAAAAAAADAAMAAoAAAAAAAAADAAMAAsAAAAAAAAADAANAP//AAAAAAAAAwANAAAAAAAAAAAAAwANAAEAAAAAAAAACwANAAIAAAAAAAAACwANAAMAAAAAAAAACwANAAQAAAAAAAAACwANAAUAAAAAAAAACwANAAYAAAAAAAAACwANAAcAAAAAAAAACwANAAgAAAAAAAAACwANAAkAAAAAAAAACwANAAoAAAAAAAAACwANAAsAAAAAAAAACwAOAP//AAAAAAAAAwAOAAAAAAAAAAAAAwAOAAEAAAAAAAAAAwAOAAIAAAAAAAAAAwAOAAMAAAAAAAAAAwAOAAQAAAAAAAAAAwAOAAUAAAAAAAAAAwAOAAYAAAAAAAAAAwAOAAcAAAAAAAAAAwAOAAgAAAAAAAAAAwAOAAkAAAAAAAAAAwAOAAoAAAAAAAAAAwAOAAsAAAAAAAAAAwAPAP//AAAAAAAAAwAPAAAAAAAAAAAAAwAPAAEAAAAAAAAAAwAPAAIAAAAAAAAAAwAPAAMAAAAAAAAAAwAPAAQAAAAAAAAAAwAPAAUAAAAAAAAAAwAPAAYAAAAAAAAAAwAPAAcAAAAAAAAAAwAPAAgAAAAAAAAAAwAPAAkAAAAAAAAAAwAPAAoAAAAAAAAAAwAPAAsAAAAAAAAAAwALAAEAAAAAAAAADQAAAAAAAAAAAAAACgAAAAEAAAAAAAAADQAAAAIAAAAAAAAABAAAAAMAAAAAAAAAAwAAAAQAAAAAAAAAAwA=")
tile_set = SubResource("TileSet_jjdoh")

[node name="TurnManager" parent="." node_paths=PackedStringArray("player", "npc_container", "enemy_container", "interactives_container") instance=ExtResource("1_b6bp6")]
player = NodePath("../Player2D")
npc_container = NodePath("../NPC Container")
enemy_container = NodePath("../Enemy Container")
interactives_container = NodePath("../Interactives Container")

[node name="CommandMenu" type="Node2D" parent="." node_paths=PackedStringArray("ui_container", "lists")]
script = ExtResource("14_7ip5i")
ui_container = NodePath("../Camera2D/UIContainer")
lists = [NodePath("../Camera2D/UIContainer/CommandMenu/NinePatchRect/MainList"), NodePath("../Camera2D/UIContainer/CommandMenu/NinePatchRect/SkillsList"), NodePath("../Camera2D/UIContainer/CommandMenu/NinePatchRect/SpellsList"), NodePath("../Camera2D/UIContainer/CommandMenu/NinePatchRect/ItemsList")]

[node name="Interactives Container" type="Node2D" parent="."]

[node name="Chest" parent="Interactives Container" instance=ExtResource("16_iefdx")]
position = Vector2(144, 48)
contents = "Fira spell"
solid = true

[node name="Enemy Container" type="Node2D" parent="."]

[node name="Enemy Mouth" parent="Enemy Container" instance=ExtResource("15_b6bp6")]
position = Vector2(48, 64)

[node name="Enemy Mouth2" parent="Enemy Container" instance=ExtResource("15_b6bp6")]
position = Vector2(144, 128)

[node name="NPC Container" type="Node2D" parent="."]

[node name="Player2D" parent="." instance=ExtResource("1_lxegh")]
position = Vector2(128, 64)

[node name="Camera2D" type="Camera2D" parent="." node_paths=PackedStringArray("subject")]
position = Vector2(112, 80)
zoom = Vector2(3, 3)
script = ExtResource("14_xdkey")
subject = NodePath("../Player2D")
close_follow = true

[node name="UIContainer" type="Control" parent="Camera2D"]
layout_mode = 3
anchors_preset = 0
offset_left = -112.0
offset_top = -72.0
offset_right = 112.0
offset_bottom = 72.0

[node name="CommandMenu" type="Control" parent="Camera2D/UIContainer"]
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2

[node name="NinePatchRect" type="NinePatchRect" parent="Camera2D/UIContainer/CommandMenu"]
layout_mode = 1
anchors_preset = 3
anchor_left = 1.0
anchor_top = 1.0
anchor_right = 1.0
anchor_bottom = 1.0
offset_left = -64.0
offset_top = -64.0
grow_horizontal = 0
grow_vertical = 0
theme = SubResource("Theme_xdkey")
texture = ExtResource("16_0fxje")
patch_margin_left = 4
patch_margin_top = 8
patch_margin_right = 4
patch_margin_bottom = 8
axis_stretch_horizontal = 1
axis_stretch_vertical = 1

[node name="MainList" type="ItemList" parent="Camera2D/UIContainer/CommandMenu/NinePatchRect"]
visible = false
layout_mode = 1
anchors_preset = 3
anchor_left = 1.0
anchor_top = 1.0
anchor_right = 1.0
anchor_bottom = 1.0
offset_left = -64.0
offset_top = -64.0
grow_horizontal = 0
grow_vertical = 0
size_flags_horizontal = 8
size_flags_vertical = 8
allow_search = false
item_count = 3
item_0/text = "Skills"
item_0/icon = ExtResource("17_wes0v")
item_1/text = "Spells"
item_1/icon = ExtResource("18_1t0dy")
item_2/text = "Items"
item_2/icon = ExtResource("19_6w5x8")
script = ExtResource("24_6w5x8")
remember_cursor_position = true

[node name="SkillsList" type="ItemList" parent="Camera2D/UIContainer/CommandMenu/NinePatchRect"]
visible = false
layout_mode = 1
anchors_preset = 3
anchor_left = 1.0
anchor_top = 1.0
anchor_right = 1.0
anchor_bottom = 1.0
offset_left = -64.0
offset_top = -64.0
grow_horizontal = 0
grow_vertical = 0
size_flags_horizontal = 8
size_flags_vertical = 8
allow_search = false
item_count = 3
item_0/text = "Push"
item_1/text = "Torque"
item_2/text = "3-Tap"
script = ExtResource("24_6w5x8")
remember_cursor_position = true

[node name="SpellsList" type="ItemList" parent="Camera2D/UIContainer/CommandMenu/NinePatchRect"]
layout_mode = 1
anchors_preset = 3
anchor_left = 1.0
anchor_top = 1.0
anchor_right = 1.0
anchor_bottom = 1.0
offset_left = -64.0
offset_top = -64.0
grow_horizontal = 0
grow_vertical = 0
size_flags_horizontal = 8
size_flags_vertical = 8
allow_search = false
item_count = 4
item_0/text = "Flame"
item_0/icon = ExtResource("24_k7uxw")
item_1/text = "Shock"
item_1/icon = ExtResource("25_u2uj7")
item_2/text = "Grow"
item_2/icon = ExtResource("26_tq2tj")
item_3/text = "Demi"
item_3/icon = ExtResource("27_l2lt0")
script = ExtResource("24_6w5x8")
remember_cursor_position = true

[node name="ItemsList" type="ItemList" parent="Camera2D/UIContainer/CommandMenu/NinePatchRect"]
visible = false
layout_mode = 1
anchors_preset = 3
anchor_left = 1.0
anchor_top = 1.0
anchor_right = 1.0
anchor_bottom = 1.0
offset_left = -64.0
offset_top = -64.0
grow_horizontal = 0
grow_vertical = 0
size_flags_horizontal = 8
size_flags_vertical = 8
allow_search = false
item_count = 3
item_0/text = "Heart"
item_1/text = "Time Dial"
item_2/text = "Lund Key"
script = ExtResource("24_6w5x8")
remember_cursor_position = true

[node name="MenuCursorBox" type="Control" parent="Camera2D/UIContainer/CommandMenu/NinePatchRect"]
layout_mode = 1
anchors_preset = 0
offset_right = 4.0
offset_bottom = 1.0

[node name="MenuCursor" type="Node2D" parent="Camera2D/UIContainer/CommandMenu/NinePatchRect/MenuCursorBox"]
unique_name_in_owner = true
position = Vector2(2, 0)

[node name="Sprite2D" type="Sprite2D" parent="Camera2D/UIContainer/CommandMenu/NinePatchRect/MenuCursorBox/MenuCursor"]
texture = ExtResource("25_jiwvv")

[node name="AnimationPlayer" type="AnimationPlayer" parent="Camera2D/UIContainer/CommandMenu/NinePatchRect/MenuCursorBox/MenuCursor"]
root_node = NodePath("../..")
libraries = {
&"": SubResource("AnimationLibrary_u2uj7")
}
autoplay = "wiggle"

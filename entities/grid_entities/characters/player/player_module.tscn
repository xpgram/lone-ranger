[gd_scene load_steps=58 format=3 uid="uid://eyhskerhpe2y"]

[ext_resource type="Script" uid="uid://kreg7knmfr1j" path="res://entities/grid_entities/characters/player/scripts/player_module.gd" id="1_g13rh"]
[ext_resource type="PackedScene" uid="uid://xjvdjvcg5sjk" path="res://entities/grid_entities/characters/player/player.tscn" id="2_7iogb"]
[ext_resource type="Script" uid="uid://g8diiktdxcrq" path="res://entities/grid_entities/characters/player/scripts/player_inventory.gd" id="3_08fk3"]
[ext_resource type="Script" uid="uid://bfsd2w575yvoj" path="res://utilities/actions/field_actions/field_action.gd" id="4_08fk3"]
[ext_resource type="Script" uid="uid://dl8g0bw3r66ba" path="res://utilities/actions/field_actions/scripts/print_log_action.gd" id="5_jru4w"]
[ext_resource type="Texture2D" uid="uid://dygp4dweq7um5" path="res://assets/textures_unused/system/icons/icon-orbital.png" id="6_g13rh"]
[ext_resource type="Texture2D" uid="uid://dkhd2f7ywih0j" path="res://assets/textures_unused/system/icons/icon-orb.png" id="7_3k65y"]
[ext_resource type="Texture2D" uid="uid://dkubi1rt8v81h" path="res://assets/textures_unused/system/icons/icon-fire.png" id="7_7iogb"]
[ext_resource type="Script" uid="uid://1co65v7pd4ta" path="res://utilities/actions/field_actions/scripts/burn_action.gd" id="8_p4sl8"]
[ext_resource type="Texture2D" uid="uid://b8rrweskhi56k" path="res://assets/textures_unused/system/icons/icon-plant.png" id="9_7hiuf"]
[ext_resource type="Script" uid="uid://dx2don6d2tt38" path="res://utilities/nodes/focusable_control.gd" id="10_jru4w"]
[ext_resource type="Script" uid="uid://bgl6q243ogu5r" path="res://entities/system/camera2d/camera_2d.gd" id="10_yid0f"]
[ext_resource type="PackedScene" uid="uid://dcydrh78pwl4" path="res://entities/ui/field_cursor/field_cursor.tscn" id="12_5jpfb"]
[ext_resource type="PackedScene" uid="uid://du02pajmhvinl" path="res://entities/ui/command_menu/command_menu.tscn" id="14_sg284"]
[ext_resource type="Texture2D" uid="uid://dtb81el6g0sie" path="res://assets/00 - source/hud_sheet.png" id="15_l0w8i"]
[ext_resource type="Texture2D" uid="uid://c8hl7pwsr04fi" path="res://assets/textures_unused/system/icons/icon-items.png" id="15_lxu83"]

[sub_resource type="Resource" id="Resource_3k65y"]
script = ExtResource("5_jru4w")
action_uid = &"orbital"
action_name = "Orbital"
action_description = "asvavdsave"
action_hint = "aveaveav"
action_time_cost = 15.0
small_icon = ExtResource("6_g13rh")
command_menu_sort_priority = 1
metadata/_custom_type_script = "uid://dl8g0bw3r66ba"

[sub_resource type="Resource" id="Resource_4tfgr"]
script = ExtResource("5_jru4w")
action_uid = &"push"
action_name = "Push"
action_description = "safdsa"
action_hint = "esavdsa"
action_time_cost = 15.0
small_icon = ExtResource("7_3k65y")
metadata/_custom_type_script = "uid://dl8g0bw3r66ba"

[sub_resource type="Resource" id="Resource_p4sl8"]
script = ExtResource("8_p4sl8")
action_uid = &"burn"
action_name = "Burn"
action_type = 1
action_description = "asdf"
action_hint = "asdf"
action_time_cost = 15.0
small_icon = ExtResource("7_7iogb")
limit_type = 2
uses_remaining = 3

[sub_resource type="Resource" id="Resource_ybx00"]
script = ExtResource("5_jru4w")
action_uid = &"grow"
action_name = "Grow"
action_type = 1
action_description = "asvesav"
action_hint = "dsave"
action_time_cost = 15.0
small_icon = ExtResource("9_7hiuf")
command_menu_sort_priority = 1
limit_type = 2
uses_remaining = 4
metadata/_custom_type_script = "uid://dl8g0bw3r66ba"

[sub_resource type="Resource" id="Resource_si0qk"]
script = ExtResource("5_jru4w")
action_uid = &"heart"
action_name = "Heart"
action_type = 2
action_description = "aveavfdsaf"
action_hint = "avesvasef"
small_icon = ExtResource("15_lxu83")
limit_type = 1
uses_remaining = 3
metadata/_custom_type_script = "uid://dl8g0bw3r66ba"

[sub_resource type="Resource" id="Resource_85q7o"]
script = ExtResource("5_jru4w")
action_uid = &"time_dial"
action_name = "Dial"
action_type = 2
action_description = "avesav"
action_hint = "adsvaev"
action_time_cost = 15.0
small_icon = ExtResource("7_3k65y")
command_menu_sort_sub_priority = 1
limit_type = 1
metadata/_custom_type_script = "uid://dl8g0bw3r66ba"

[sub_resource type="Resource" id="Resource_2mukj"]
script = ExtResource("5_jru4w")
action_uid = &"wind_key"
action_name = "Wind Key"
action_type = 3
action_description = "aseva"
action_hint = "advesaf"
command_menu_sort_priority = 1
limit_type = 3
metadata/_custom_type_script = "uid://dl8g0bw3r66ba"

[sub_resource type="AtlasTexture" id="AtlasTexture_5jpfb"]
atlas = ExtResource("15_l0w8i")
region = Rect2(0, 0, 16, 16)

[sub_resource type="CompressedTexture2D" id="CompressedTexture2D_yibea"]
load_path = "res://.godot/imported/hud_sheet.png-ff7450e8507eefa08edc24b597251088.ctex"

[sub_resource type="AtlasTexture" id="AtlasTexture_06ww2"]
atlas = SubResource("CompressedTexture2D_yibea")
region = Rect2(0, 16, 16, 16)

[sub_resource type="AtlasTexture" id="AtlasTexture_l0w8i"]
atlas = ExtResource("15_l0w8i")
region = Rect2(0, 80, 16, 16)

[sub_resource type="AtlasTexture" id="AtlasTexture_yibea"]
atlas = ExtResource("15_l0w8i")
region = Rect2(0, 80, 16, 16)

[sub_resource type="AtlasTexture" id="AtlasTexture_txwd0"]
atlas = ExtResource("15_l0w8i")
region = Rect2(32, 48, 16, 16)

[sub_resource type="AtlasTexture" id="AtlasTexture_1ol17"]
atlas = ExtResource("15_l0w8i")
region = Rect2(16, 48, 16, 16)

[sub_resource type="AtlasTexture" id="AtlasTexture_mrt6k"]
atlas = ExtResource("15_l0w8i")
region = Rect2(0, 48, 16, 16)

[sub_resource type="AtlasTexture" id="AtlasTexture_5beel"]
atlas = ExtResource("15_l0w8i")
region = Rect2(0, 80, 16, 16)

[sub_resource type="AtlasTexture" id="AtlasTexture_qdihw"]
atlas = ExtResource("15_l0w8i")
region = Rect2(32, 64, 16, 16)

[sub_resource type="AtlasTexture" id="AtlasTexture_f5ans"]
atlas = ExtResource("15_l0w8i")
region = Rect2(16, 64, 16, 16)

[sub_resource type="AtlasTexture" id="AtlasTexture_3verx"]
atlas = ExtResource("15_l0w8i")
region = Rect2(0, 64, 16, 16)

[sub_resource type="AtlasTexture" id="AtlasTexture_h7fwu"]
atlas = ExtResource("15_l0w8i")
region = Rect2(0, 16, 16, 16)

[sub_resource type="AtlasTexture" id="AtlasTexture_u4g2o"]
atlas = ExtResource("15_l0w8i")
region = Rect2(0, 48, 16, 16)

[sub_resource type="AtlasTexture" id="AtlasTexture_uigsd"]
atlas = ExtResource("15_l0w8i")
region = Rect2(16, 48, 16, 16)

[sub_resource type="AtlasTexture" id="AtlasTexture_fg7f6"]
atlas = ExtResource("15_l0w8i")
region = Rect2(32, 48, 16, 16)

[sub_resource type="AtlasTexture" id="AtlasTexture_cy2ga"]
atlas = ExtResource("15_l0w8i")
region = Rect2(0, 80, 16, 16)

[sub_resource type="AtlasTexture" id="AtlasTexture_2l6ns"]
atlas = ExtResource("15_l0w8i")
region = Rect2(0, 32, 16, 16)

[sub_resource type="AtlasTexture" id="AtlasTexture_rsgl5"]
atlas = ExtResource("15_l0w8i")
region = Rect2(16, 32, 16, 16)

[sub_resource type="AtlasTexture" id="AtlasTexture_r3rma"]
atlas = ExtResource("15_l0w8i")
region = Rect2(32, 32, 16, 16)

[sub_resource type="AtlasTexture" id="AtlasTexture_frbt1"]
atlas = ExtResource("15_l0w8i")
region = Rect2(48, 32, 16, 16)

[sub_resource type="AtlasTexture" id="AtlasTexture_3dwjy"]
atlas = ExtResource("15_l0w8i")
region = Rect2(0, 64, 16, 16)

[sub_resource type="AtlasTexture" id="AtlasTexture_f1ydx"]
atlas = ExtResource("15_l0w8i")
region = Rect2(0, 64, 16, 16)

[sub_resource type="AtlasTexture" id="AtlasTexture_8njbi"]
atlas = ExtResource("15_l0w8i")
region = Rect2(16, 64, 16, 16)

[sub_resource type="AtlasTexture" id="AtlasTexture_4gu52"]
atlas = ExtResource("15_l0w8i")
region = Rect2(32, 64, 16, 16)

[sub_resource type="AtlasTexture" id="AtlasTexture_mg074"]
atlas = ExtResource("15_l0w8i")
region = Rect2(0, 80, 16, 16)

[sub_resource type="AtlasTexture" id="AtlasTexture_tuuck"]
atlas = ExtResource("15_l0w8i")
region = Rect2(48, 32, 16, 16)

[sub_resource type="AtlasTexture" id="AtlasTexture_2sgdp"]
atlas = ExtResource("15_l0w8i")
region = Rect2(32, 32, 16, 16)

[sub_resource type="AtlasTexture" id="AtlasTexture_kx418"]
atlas = ExtResource("15_l0w8i")
region = Rect2(16, 32, 16, 16)

[sub_resource type="AtlasTexture" id="AtlasTexture_re88k"]
atlas = ExtResource("15_l0w8i")
region = Rect2(0, 32, 16, 16)

[sub_resource type="SpriteFrames" id="SpriteFrames_p4sl8"]
animations = [{
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_l0w8i")
}],
"loop": true,
"name": &"empty",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_yibea")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_txwd0")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_1ol17")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_mrt6k")
}],
"loop": true,
"name": &"empty_to_full",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_5beel")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_qdihw")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_f5ans")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_3verx")
}],
"loop": true,
"name": &"empty_to_half",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_h7fwu")
}],
"loop": false,
"name": &"full",
"speed": 2.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_u4g2o")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_uigsd")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_fg7f6")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_cy2ga")
}],
"loop": true,
"name": &"full_to_empty",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_2l6ns")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_rsgl5")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_r3rma")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_frbt1")
}],
"loop": true,
"name": &"full_to_half",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_3dwjy")
}],
"loop": true,
"name": &"half",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_f1ydx")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_8njbi")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_4gu52")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_mg074")
}],
"loop": true,
"name": &"half_to_empty",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_tuuck")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_2sgdp")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_kx418")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_re88k")
}],
"loop": true,
"name": &"half_to_full",
"speed": 5.0
}]

[sub_resource type="Animation" id="Animation_5uptn"]
resource_name = "full"
step = 0.125
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Heart:animation")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [&"full"]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("Heart:frame")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [0]
}

[sub_resource type="Animation" id="Animation_fdxb6"]
length = 0.001
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Heart:frame")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [0]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("Heart:animation")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [&"empty_to_full"]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_iig08"]
_data = {
&"RESET": SubResource("Animation_fdxb6"),
&"full": SubResource("Animation_5uptn")
}

[node name="PlayerModule" type="Node2D"]
script = ExtResource("1_g13rh")
_entity = NodePath("Player2D")
_camera = NodePath("Camera2D")
metadata/_custom_type_script = "uid://kreg7knmfr1j"

[node name="Player2D" parent="." node_paths=PackedStringArray("inventory") instance=ExtResource("2_7iogb")]
inventory = NodePath("../Inventory")
pushable = true

[node name="Inventory" type="Node2D" parent="."]
script = ExtResource("3_08fk3")
_abilities = Dictionary[StringName, ExtResource("4_08fk3")]({
&"orbital": SubResource("Resource_3k65y"),
&"push": SubResource("Resource_4tfgr")
})
_magic = Dictionary[StringName, ExtResource("4_08fk3")]({
&"burn": SubResource("Resource_p4sl8"),
&"grow": SubResource("Resource_ybx00")
})
_items = Dictionary[StringName, ExtResource("4_08fk3")]({
&"heart": SubResource("Resource_si0qk"),
&"time_dial": SubResource("Resource_85q7o"),
&"wind_key": SubResource("Resource_2mukj")
})

[node name="FocusableControl" type="Control" parent="."]
unique_name_in_owner = true
layout_mode = 3
anchors_preset = 0
script = ExtResource("10_jru4w")
metadata/_custom_type_script = "uid://dx2don6d2tt38"

[node name="FieldCursor" parent="." node_paths=PackedStringArray("_origin_object") instance=ExtResource("12_5jpfb")]
unique_name_in_owner = true
_origin_object = NodePath("../Player2D")

[node name="Camera2D" type="Camera2D" parent="." node_paths=PackedStringArray("subject")]
ignore_rotation = false
zoom = Vector2(3, 3)
script = ExtResource("10_yid0f")
subject = NodePath("../Player2D")
metadata/_custom_type_script = "uid://bgl6q243ogu5r"

[node name="UIContainer" type="Control" parent="Camera2D"]
layout_mode = 3
anchors_preset = 0
offset_left = -120.0
offset_top = -80.0
offset_right = 120.0
offset_bottom = 80.0

[node name="HealthBar" type="Control" parent="Camera2D/UIContainer"]
layout_mode = 1
anchor_top = 0.90000004
anchor_right = 0.53300005
anchor_bottom = 1.0
offset_right = 0.07998657
metadata/_edit_use_anchors_ = true

[node name="HBoxContainer" type="HBoxContainer" parent="Camera2D/UIContainer/HealthBar"]
layout_mode = 1
anchors_preset = 4
anchor_top = 0.5
anchor_bottom = 0.5
offset_top = -8.0
offset_right = 128.0
offset_bottom = 8.0
grow_vertical = 2
theme_override_constants/separation = 0

[node name="HeartContainer" type="Control" parent="Camera2D/UIContainer/HealthBar/HBoxContainer"]
custom_minimum_size = Vector2(16, 0)
layout_mode = 2

[node name="ContainerBack" type="TextureRect" parent="Camera2D/UIContainer/HealthBar/HBoxContainer/HeartContainer"]
layout_mode = 0
offset_right = 16.0
offset_bottom = 16.0
texture = SubResource("AtlasTexture_5jpfb")

[node name="Heart" type="TextureRect" parent="Camera2D/UIContainer/HealthBar/HBoxContainer/HeartContainer"]
layout_mode = 0
offset_right = 16.0
offset_bottom = 16.0
texture = SubResource("AtlasTexture_06ww2")

[node name="HeartContainer2" type="Control" parent="Camera2D/UIContainer/HealthBar/HBoxContainer"]
custom_minimum_size = Vector2(16, 0)
layout_mode = 2

[node name="ContainerBack" type="Sprite2D" parent="Camera2D/UIContainer/HealthBar/HBoxContainer/HeartContainer2"]
position = Vector2(8, 8)
texture = ExtResource("15_l0w8i")
region_enabled = true
region_rect = Rect2(0, 0, 16, 16)

[node name="Heart" type="AnimatedSprite2D" parent="Camera2D/UIContainer/HealthBar/HBoxContainer/HeartContainer2"]
position = Vector2(8, 8)
sprite_frames = SubResource("SpriteFrames_p4sl8")
animation = &"empty_to_full"

[node name="AnimationPlayer" type="AnimationPlayer" parent="Camera2D/UIContainer/HealthBar/HBoxContainer/HeartContainer2"]
libraries = {
&"": SubResource("AnimationLibrary_iig08")
}

[node name="CommandMenu" parent="Camera2D/UIContainer" node_paths=PackedStringArray("_inventory") instance=ExtResource("14_sg284")]
unique_name_in_owner = true
layout_mode = 1
anchors_preset = 11
anchor_left = 1.0
offset_left = -120.0
offset_right = -8.0
offset_bottom = -23.0
grow_horizontal = 0
_inventory = NodePath("../../../Inventory")
